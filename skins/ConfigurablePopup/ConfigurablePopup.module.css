/* src/skins/ConfigurablePopup/ConfigurablePopup.module.css */

/* --- 1. BASE STYLES (Copied from your Barebones.module.css) --- */
/* These styles are now the default for the minimal state. */

.container {
  position: relative;
  width: 100%;
  /* --- NEW DYNAMIC STYLES --- */
  --popup-max-width: 650px; /* Default: Medium */
  --popup-border-radius: 8px; /* Default */
  --popup-shadow-opacity: 0.3; /* Default (3% opacity) */
  max-width: var(--popup-max-width);
  background-color: #1c1e21; /* Default background */
  border-radius: var(--popup-border-radius);
  box-shadow: 0 8px 16px rgba(0, 0, 0, var(--popup-shadow-opacity));
  box-sizing: border-box;
  margin: 0 auto;
  overflow: hidden; /* Clips the child corners */
  
  /* THIS IS THE FIX: Use your exact Barebones padding by default */
  padding: 3.55% 0.85% 0.85% 0.85%;
}

.gameArea {
  width: 100%;
  aspect-ratio: 16 / 9; 
  position: relative;
  background-color: #080817;
  border-radius: calc(var(--popup-border-radius) * 0.5); /* Use half the main radius */
  overflow: hidden;
}

/* These buttons are now correctly positioned inside the container's padding */
.exitButton, .muteButton {
  position: absolute;
  z-index: 2;
  padding: 0;
  border: none;
  background-color: #333333;
  cursor: pointer;
  width: 4.6%; 
  aspect-ratio: 1 / 1;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  top: 3%;
}

.exitButton:hover, .muteButton:hover {
  background-color: #444444;
}

.exitButton {
  right: 2%;
}

.muteButton {
  right: 8.5%;
}

.exitButton img, .muteButton img {
  width: 65%;
  height: 65%;
}


/* --- 2. HEADER LAYOUT STYLES (Overrides) --- */
/* These styles only apply when the header is active. */

/* Reset container padding when the header is active */
.containerWithHeader {
  padding: 0;
}

.header {
  display: grid; /* Use grid for precise alignment */
  grid-template-columns: 1fr auto 1fr; /* Left spacer, Title, Right controls */
  align-items: center;
  padding: 0.75em 1em; /* Converted from 12px 16px */
  background-color: #2a2d30;
  color: #ffffff;
  border-top-left-radius: var(--popup-border-radius);
  border-top-right-radius: var(--popup-border-radius);
  min-height: 48px; /* Ensure a consistent minimum height */
}

.headerText {
  grid-column: 2 / 3; /* Center column */
  justify-self: center; /* Center the text container */
  min-width: 0; /* Allows text to truncate */
  max-width: 100%;
}

.title {
  margin: 0;
  font-size: 1.1rem;
  font-weight: 600;
  line-height: 1.3;
  white-space: nowrap; /* Prevents text from wrapping */
  overflow: hidden; /* Hides text that overflows */
  text-overflow: ellipsis; /* Adds "..." to truncated text */
}

/* Remove subtitle block as it no longer exists in the data model */
.subtitle {
  display: none;
}

/* Wrapper for buttons inside the header */
.controls {
  grid-column: 3 / 4; /* Right column */
  display: flex;
  justify-content: flex-end; /* Push controls to the right edge */
  gap: 10px;
}

/* The style for buttons when they are inside the header */
.controlButton {
  width: 32px;
  height: 32px;
  padding: 0;
  border: none;
  background-color: #333333;
  cursor: pointer;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.controlButton:hover {
  background-color: #444444;
}
.controlButton img {
  width: 60%;
  height: 60%;
}

/* --- 3. CONTENT BLOCK STYLES --- */
.contentBlock {
  padding: 0.75em 1em; /* Converted from 12px 16px */
  color: #ffffff;
  background-color: #2a2d30; /* Default content background */
  text-align: left;
}
.contentHeader {
  margin: 0;
  font-size: 1.0rem;
  font-weight: 600;
}
.contentSubheader {
  margin: 4px 0 0 0;
  font-size: 0.9rem;
  font-weight: 500;
  opacity: 0.9;
}
.contentBody {
  margin: 8px 0 0 0;
  font-size: 0.875rem;
  opacity: 0.8;
  line-height: 1.4;
}

/* When header is active, game area needs its own padding */
.containerWithHeader .gameArea {
  /* Match the 0.85% side/bottom padding */
  margin: 0.85%; 
  width: 98.3%; /* 100% - (0.85% * 2) */
}

/* When header is active and content is *below* it */
.header + .contentBlock {
   /* no extra margin needed */
}
/* When content is *above* the game area */
.contentBlock + .gameArea {
  margin: 0.85%;
  width: 98.3%;
}
/* When content is *below* the game area */
.gameArea + .contentBlock {
  /* no extra margin needed */
}